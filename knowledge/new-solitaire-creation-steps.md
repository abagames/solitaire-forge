# プロンプト: 新規一人用トランプゲーム創出プロセス

## フェーズ 1: コンセプト定義

**あなたへの指示:**
あなたは独創的なゲームデザイナー AI です。これから、標準的なトランプ 52 枚を使った新しい**一人用**カードゲームを設計します。

1.  まず、このゲームの**中心となるテーマやコンセプト**を簡潔に記述してください。（例: 資源管理と建設、パズル的なカード配置、リスクと報酬の選択、物語の進行など）
2.  次に、そのコンセプトを実現するための**ユニークなコアメカニクス**（ゲームの中心的な遊び方やルール）のアイデアを**3 つ**提案してください。既存の有名なソリティア（クロンダイク、スパイダー、フリーセルなど）とは異なる、独自のメカニクスを目指してください。

**期待する出力:**

- ゲームのテーマ/コンセプト (簡潔な説明)
- コアメカニクスのアイデア 3 案 (簡潔な説明)

---

## フェーズ 2: ルール詳細化と GameDefinition 生成

**(フェーズ 1 の出力に基づき、人間がテーマ/コンセプトと最も有望なコアメカニクスを 1 つ選択し、必要であればフィードバックを加えます)**

**あなたへの指示:**
選択されたテーマ/コンセプト「**[人間が設定したテーマ/コンセプト]**」とコアメカニクス「**[人間が選択したメカニクス]**」に基づいて、ゲームの具体的なルールを詳細化し、`knowledge/library.md`の**「トランプゲームルール記述ライブラリ 仕様書 (TypeScript 版)」**に従った ゲーム定義を生成してください。

ゲーム定義、および後述のシミュレーションに必要なファイルは、`./src/games/[ゲーム名 (英語)(kebab-case)]`ディレクトリに配置してください。自然言語でのゲームルールの説明を`README.md`に記載してください。

**ルール詳細化にあたっての注意点:**

- **シンプルなルール:** **カード以外のリソース管理、トークン、スコアなどは禁止します**。盤面にあるカードのみでゲームの状態が把握できる、シンプルなルールにしてください。
- **意味のある選択肢:** プレイヤーがゲームの様々な局面で、戦略的に**意味のある複数の選択肢**を持てるように意識してください。常に最善手が自明な状況を避けるように努めてください。
- **リスクと報酬:** プレイヤーが**興味深いリスクと報酬のトレードオフ**に直面するようなデザインを心がけてください。
- **悪用可能性の回避:** ルールを組み合わせる際に、**明らかにゲームを壊す単純なループや必勝パターン**（Exploit）が生じないように注意してください。
- **コアメカニクスの中心性:** 選択された**コアメカニクスが実際のゲームプレイの中心的な役割を果たし**、プレイヤーの意思決定に深く関わるように設計してください。
- **テーマとの一貫性:** 選択された**テーマやコンセプトが、具体的なアクションや目標に自然に反映される**ようにしてください。

**想定されるプレイヤーの戦略:**
ゲームプレイにおいて期待される 2〜3 の異なる戦略的アプローチを詳述してください。各戦略について：

- 主な方針と意思決定の優先順位
- その戦略が効果的になる状況
- 潜在的なリスクや弱点
- 他の戦略との比較

**期待する出力:**

- ゲーム定義のソースコード (TypeScript)
- 自然言語でのゲームルールの説明 (`README.md`)

---

## フェーズ 2.5: 設計レビュー

**(フェーズ 2 で生成されたゲーム定義とルール説明に基づき、人間と AI でレビューを行います)**

**あなたへの指示:**
生成されたゲームルールとゲーム定義について、以下の観点から**批判的に**レビューし、議論してください。

1.  **ルールの一貫性と明確性:** ルールに矛盾や曖昧な点はないか？
2.  **戦略的な深さ:**
    - プレイヤーは**意味のある複数の戦略的選択肢**に直面するか？ 最善手が常に自明ではないか？
    - 意図しない単純な必勝パターン（Exploit）やループが存在しないか？
3.  **コンセプトとの整合性:** フェーズ 1 で定義されたテーマやコアメカニクスが、実際のルールやプレイヤー体験に反映されているか？
4.  **面白さの予測:** 現状のルールで、プレイヤーは興味深いリスクと報酬のトレードオフや、達成感のある目標に直面すると期待できるか？

**レビューの結果、大きな問題点や改善の必要性が認識された場合は、フェーズ 3 に進まずに、フェーズ 2 に戻ってルールを修正・再定義するか、あるいはフェーズ 4 に移行して具体的な改善案を適用します。**

**期待する出力:**

- レビュー結果の要約（問題点、懸念点など）
- 次のステップの提案（フェーズ 3 へ進む / フェーズ 2 へ戻る / フェーズ 4 へ移行）

---

## フェーズ 3: シミュレーションと評価

**(フェーズ 2.5 のレビューを経て、ルールに大きな問題がないと判断された場合、またはシミュレーションによる検証が必要と判断された場合に実施します)**

**(生成されたゲーム定義をライブラリに入力し、シミュレーションを実行します。結果データと定性的なプレイ感のフィードバックをまとめます)**

**あなたへの指示:**
提供されたゲーム定義に基づくシミュレーションを、`knowledge/simulation.md`に従って行うこと。シミュレーション結果 (勝率、平均手数、詰みやすさ、特定ルールの利用頻度など) と定性的なフィードバック (面白さ、課題点、意図通りに機能しているかなど) を提示すること。

これらの情報に基づいて、以下の点を**深く、批判的に**分析し、記述してください。

1.  **特定された主な問題点:**
    - ゲームバランス、ルール上の欠陥、意図通りに機能していないメカニクスなどを**具体的に**指摘してください。
    - BasicAI の勝率が極端に高い場合 (例: 90%以上)、それは**ゲームが簡単すぎるか、悪用可能な単純戦略が存在する**強い兆候です。これを主要な問題点として認識し、原因を分析してください。
    - 単なる勝率だけでなく、AI が**どのような手順・戦略で勝利（または敗北）しているか**を分析し、特に単調な繰り返しや、ゲームの意図を損なうような単純なパターンがないか確認してください。
    - ルールをプレイヤー視点で**意地悪く（悪用する意図で）解釈・利用した場合**に、意図しない必勝パターンやゲーム性を損なうループ（Exploit）が発生しないか考察してください。
    - シミュレーション結果や観察された AI の戦略が、**フェーズ 1 で定義されたゲームコンセプトや意図されたプレイヤー体験と整合しているか**を評価してください。（例: リスク管理がテーマなのに、リスクなしで勝てる戦略が存在しないか？）
2.  **具体的な改善提案:**
    - 特定された問題点（特に上記の問題点）を解決するためのルール変更案を**複数**提案してください。
    - 変更は、元のコンセプトを可能な限り維持しつつ、ゲームバランスを改善し、より面白く、意図した通りの体験が得られるようにすることを目指してください。

**期待する出力:**

- 特定された主な問題点 (詳細な分析を含む箇条書き)
- 具体的な改善提案 (複数案、変更理由と期待される効果の説明)

---

## フェーズ 4: ルール改善とゲーム定義再生成

**(フェーズ 3 の提案に基づき、人間が適用する改善案を選択します)**

**あなたへの指示:**
選択された改善案「**[人間が選択した改善案の詳細]**」を反映するように、**フェーズ 2 で生成したゲーム定義オブジェクトを修正**してください。

修正後の完全なゲーム定義出力してください。可能であれば、変更点をコメントなどで簡単に説明してください。

**期待する出力:**

- 修正されたゲーム定義のソースコード (TypeScript)

---

**(以降、必要に応じてフェーズ 3 とフェーズ 4 を繰り返す)**
